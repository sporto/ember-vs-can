<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>Can</title>
		<link rel="stylesheet" href="../shared/css/lib/bootstrap.css" />
		<link rel="stylesheet" href="../shared/css/lib/font-awesome.css" />
	</head>
	<body>

		<script type="text/x-mustache" id="t-main">
			<div class='container'>

				<nav class="navbar navbar-default" role="navigation">
					<div class="container-fluid">
						<div class="navbar-header">
							<a class="navbar-brand" href="#">App</a>
						</div>

						<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
							<ul class="nav navbar-nav">
								<li>
									<a href="#">Home</a>
								</li>
								<li>
									<a href="#accounts">Accounts</a>
								</li>
							</ul>
						</div>
					</div>
				</nav>

				<div class="app-outlet"></div>
			</div>
		</script>

		<script type="text/x-mustache" id="index">
			<h2>Welcome</h2>
		</script>

		<script type="text/x-mustache" id="t-accounts">
			<h2>Accounts</h2>
			<hr />
			<div class='col-sm-3'>
				<div class='list-group'>
					{{#if state.loading}}
						{{&loader}}
					{{else}}
						<a href="#!accounts" class="list-group-item">
							Overview
						</a>
						{{#each accounts}}
							<a href="#!accounts/{{id}}" class="list-group-item {{#ifEqual route.id id}}active{{/ifEqual}}">
								{{label}}
							</a>
						{{/each}}
					{{/if}}
				</div>
			</div>
			<div class='col-sm-9'>
				<div class="accounts-outlet">
					{{#if state.loading}}
						{{&loader}}
					{{else}}
						<h3>Overview</h3>
						<p>There are {{accounts.length}} accounts</p>
						<ul>
							{{#each accounts}}
								<li>{{label}}</li>
							{{/each}}
						</ul>
					{{/if}}
				</div>
			</div>
		</script>

		<script type="text/x-handlebars" id="accounts/index">
			<h3>Overview</h3>
			<p>There are {{length}} accounts</p>
			<ul>
				{{#each}}
					<li>{{label}}</li>
				{{/each}}
			</ul>
		</script>

		<script type='text/x-mustache' id='t-account'>
			<div class='row'>
				<div class='col-sm-7'>
					{{#if state.loading}}
						{{&loader}}
					{{else}}
						<h2>{{account.id}} {{account.label}}</h2>
						<p>Balance: {{account.balance}}</p>

						<h3>Transactions ({{account.transactions.length}})</h3>
						<table class="table">
							<thead>
								<tr>
									<th>ID</th>
									<th>Credit</th>
									<th>Debit</th>
								</tr>
							</thead>
							<tbody>
								{{#each account.transactions}}
									<tr>
										<td>{{id}}</td>
										<td>{{credit}}</td>
										<td>{{debit}}</td>
									</tr>
								{{/each}}
							</tbody>
						</table>
					{{/if}}
				</div>
			</div>
		</script>

		<script src="js/libs/jquery-1.10.2.js"></script>
		<script src="js/libs/can.jquery.js"></script>
		<script src="js/libs/underscore.js"></script>
		<script src="js/libs/can.object.js"></script>
		<script src="js/libs/can.fixture.js"></script>

		<script src="js/app.js"></script>
		<!-- to activate the test runner, add the "?test" query string parameter -->
		<script src="tests/runner.js"></script>
	</body>
</html>
